:root{ --game-w:420px; --game-h:720px; }

html,body{
  height:100%; margin:0; background:#0f1116; color:#fff;
  font-family:Inter,system-ui,Arial,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  overscroll-behavior:none; touch-action:manipulation;
}

/* Сцена и контейнер */
#stage{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:#0f1116; overflow:hidden;
}
#wrap{
  position:absolute; width:var(--game-w); height:var(--game-h);
  border:6px solid #0b0e14; border-radius:18px; overflow:hidden;
  box-shadow:0 12px 50px rgba(0,0,0,.6); background:#0f1116;
  transform-origin: top left;
}
canvas{width:100%;height:100%;display:block}

/* HUD */
.hud{
  position:absolute; inset:10px 10px auto 10px; display:flex; justify-content:space-between;
  font-weight:800; text-shadow:0 2px 8px rgba(0,0,0,.8); font-size:14px; z-index:10; pointer-events:none
}
.hud a{pointer-events:auto}

/* Оверлеи */
.overlay{
  position:absolute; inset:0; display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,.6); backdrop-filter:blur(2px); text-align:center; padding:20px;
}
.overlay.show{display:flex}
.overlay, .overlay *{ pointer-events:auto !important; }
#cv{ position:relative; z-index:1; }
#menu.overlay{ z-index:5000 }
#win.overlay { z-index:4000 }
#lose.overlay{ z-index:4100 }

/* Меню: правый верх, больше */
#menu.overlay{
  align-items:flex-start;
  justify-content:flex-end;
  padding:16px;
}
.panel{
  background:rgba(15,17,22,.92);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  padding:18px 18px 14px;
  width:min(92%, 360px);
  box-shadow:0 10px 40px rgba(0,0,0,.5);
  text-align:left;
}

/* Кнопки */
.btn{padding:12px 18px;border-radius:12px;font-weight:800;display:inline-block;color:#fff;text-decoration:none}
.btn.secondary{background:#3b3f46}
.btns{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.btncol{display:flex;flex-direction:column;gap:10px;align-items:stretch}
.btn.level{color:#000 !important; text-shadow:none !important; width:100%}
.btn.level:hover,.btn.level:focus,.btn.level:active{filter:brightness(0.95)}
.easy{background:#F29F3D} .normal{background:#2D6BFF} .hard{background:#D7263D}

/* Просили: на оранжевой кнопке — чёрный текст */
.btn.easy{ color:#000 !important; }

/* Титулы и подписи */
.title{font-size:28px;margin:0 0 8px 0}
.subtitle{opacity:.9;margin:0 0 14px 0}
.subtitle.small{font-size:12px;opacity:.8}
.hiscores{margin:8px 0 4px 0}
.credits{margin-top:12px;font-size:12px;opacity:.8}
.credits a{color:#9ecbff;text-decoration:none}
.credits a:hover{text-decoration:underline}

/* Эффекты */
#goldText{position:absolute;inset:0;display:none;align-items:center;justify-content:center;z-index:1800;pointer-events:none}
#goldText.show{display:flex;animation:fadeGold .8s ease-out forwards}
#goldText .txt{font-weight:900;font-size:54px;letter-spacing:2px;color:#ffd83d;text-shadow:0 0 16px rgba(255,216,61,.95),0 0 32px rgba(255,216,61,.8)}
@keyframes fadeGold{0%{opacity:0;transform:scale(.9)}20%{opacity:1;transform:scale(1.07)}80%{opacity:1}100%{opacity:0;transform:scale(1)}}

#flash{position:absolute;inset:0;background:rgba(215,38,61,.35);pointer-events:none;opacity:0;z-index:1400}
#flash.show{animation:flash .25s ease-out}
@keyframes flash{0%{opacity:.9}100%{opacity:0}}

#dbg{position:absolute;bottom:8px;left:8px;font-size:11px;opacity:.7;background:rgba(0,0,0,.35);padding:4px 6px;border-radius:8px;display:none}
#dbg.show{display:block}
